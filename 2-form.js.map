{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst storageKey = 'feedback-form-state';\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconsole.log(formData);\n\nconst formEl = document.querySelector('.feedback-form');\nconst inputEl = document.querySelector('input');\nconst textareaEl = document.querySelector('textarea');\ntoNotReload();\n\nformEl.addEventListener('input', handlInput);\nformEl.addEventListener('submit', handlSabmit);\n\nfunction handlInput(event) {\n  const currentEvent = event.currentTarget.elements;\n\n  if (currentEvent.email && currentEvent.email.value !== '') {\n    formData.email = currentEvent.email.value.trim();\n  }\n\n  if (currentEvent.email && currentEvent.message.value !== '') {\n    formData.message = currentEvent.message.value.trim();\n  }\n\n  console.log(formData);\n\n  localStorage.setItem(storageKey, JSON.stringify(formData));\n}\n\nfunction toNotReload() {\n  if (localStorage.getItem(storageKey) !== null) {\n    const savedMessage = localStorage.getItem(storageKey);\n\n    const parsedMessage = JSON.parse(savedMessage);\n\n    inputEl.value = parsedMessage.email;\n    textareaEl.value = parsedMessage.message;\n\n    formData.email = inputEl.value;\n    formData.message = textareaEl.value;\n  } else {\n    return;\n  }\n}\n\nfunction handlSabmit(event) {\n  event.preventDefault();\n\n  if (inputEl.value === '' || textareaEl.value === '') {\n    alert('Fill please all fields');\n  } else {\n    console.log('befor:', formData);\n    const currentEvent = event.currentTarget;\n    currentEvent.reset();\n    localStorage.removeItem(storageKey);\n    formData.email = currentEvent.elements.email.value;\n    formData.message = currentEvent.elements.message.value;\n    console.log('after:', formData);\n  }\n}\n"],"names":["storageKey","formData","formEl","inputEl","textareaEl","toNotReload","handlInput","handlSabmit","event","currentEvent","savedMessage","parsedMessage"],"mappings":"wFAEA,MAAMA,EAAa,sBAEbC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEA,QAAQ,IAAIA,CAAQ,EAEpB,MAAMC,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAa,SAAS,cAAc,UAAU,EACpDC,IAEAH,EAAO,iBAAiB,QAASI,CAAU,EAC3CJ,EAAO,iBAAiB,SAAUK,CAAW,EAE7C,SAASD,EAAWE,EAAO,CACzB,MAAMC,EAAeD,EAAM,cAAc,SAErCC,EAAa,OAASA,EAAa,MAAM,QAAU,KACrDR,EAAS,MAAQQ,EAAa,MAAM,MAAM,KAAI,GAG5CA,EAAa,OAASA,EAAa,QAAQ,QAAU,KACvDR,EAAS,QAAUQ,EAAa,QAAQ,MAAM,KAAI,GAGpD,QAAQ,IAAIR,CAAQ,EAEpB,aAAa,QAAQD,EAAY,KAAK,UAAUC,CAAQ,CAAC,CAC3D,CAEA,SAASI,GAAc,CACrB,GAAI,aAAa,QAAQL,CAAU,IAAM,KAAM,CAC7C,MAAMU,EAAe,aAAa,QAAQV,CAAU,EAE9CW,EAAgB,KAAK,MAAMD,CAAY,EAE7CP,EAAQ,MAAQQ,EAAc,MAC9BP,EAAW,MAAQO,EAAc,QAEjCV,EAAS,MAAQE,EAAQ,MACzBF,EAAS,QAAUG,EAAW,KAClC,KACI,OAEJ,CAEA,SAASG,EAAYC,EAAO,CAG1B,GAFAA,EAAM,eAAc,EAEhBL,EAAQ,QAAU,IAAMC,EAAW,QAAU,GAC/C,MAAM,wBAAwB,MACzB,CACL,QAAQ,IAAI,SAAUH,CAAQ,EAC9B,MAAMQ,EAAeD,EAAM,cAC3BC,EAAa,MAAK,EAClB,aAAa,WAAWT,CAAU,EAClCC,EAAS,MAAQQ,EAAa,SAAS,MAAM,MAC7CR,EAAS,QAAUQ,EAAa,SAAS,QAAQ,MACjD,QAAQ,IAAI,SAAUR,CAAQ,CAC/B,CACH"}